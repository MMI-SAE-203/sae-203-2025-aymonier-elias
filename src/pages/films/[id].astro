---
import Base from "../../layouts/Base.astro";

import Arrow from "../../assets/svg/arrow_black.svg";

const { id } = Astro.params;
import { getFilmsById } from "../../../backend/backend.mjs";
const film = await getFilmsById(id);
---

<Base Titre="Film">
    <section
        class="flex flex-col py-12 lg:px-20 gap-12 lg:flex-row lg:flex-wrap lg:justify-center lg:items-center"
    >
        <div class="flex flex-col items-center gap-5 lg:flex-row lg:w-full lg:justify-center">
            <h2>{film.titre}</h2>
            <img src={film.img} alt=`Affiche du film ${film.titre}` class="w-full lg:w-1/2 lg:rounded-lg"/>
        </div>
        <div class="flex flex-col items-center px-5 w-full gap-5 lg:w-1/3">
            <h2>Info</h2>
            <ul class="flex flex-col gap-y-3 w-2/3 lg:w-full">
                <li class="flex justify-between w-full">Durée : <span class="font-bold text-[1.1rem]">{film.dure}</span></li>
                <li class="flex justify-between w-full">Date de sortie : <span class="font-bold text-[1.1rem]">{film.date}</span></li>
                <li class="flex justify-between w-full">Langue : <span class="font-bold text-[1.1rem]">{film.vo}</span></li>
            </ul>
            <a href={film.wikipedia} class="button-link w-2/3 lg:w-full">
                Page Wikipédia
                <Arrow />
            </a>
        </div>
        <div class="flex flex-col items-center px-5 gap-5 lg:1/3">
            <h2>Bande-Annonce</h2>
            <iframe
            width="560"
            height="315"
            src={film.bande_annonce_embed}
            title="YouTube video player"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            referrerpolicy="strict-origin-when-cross-origin"
            allowfullscreen
            class="rounded-lg"></iframe>
        </div>
        <div>
            <h2>Qui sera présent</h2>
            <!-- <img src={film.invite.nom} alt=""> -->
            <p>{film.invite.nom}</p>
        </div>
        <div class="flex flex-col items-center px-5 gap-5 lg:w-2/3">
            <h2>Synopsis</h2>
            <p>{film.synopsis}</p>
            <a href={film.wikipedia} class="button-link">
                Lire plus
                <Arrow />
            </a>
        </div>
    </section>
</Base>
